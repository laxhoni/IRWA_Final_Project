{% extends "base.html" %}
{% block page_title %}{{ product.title }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <a href="javascript:history.back()" class="btn btn-outline-primary mb-3">&larr; Back to Results</a>

    <div class="row">
        <div class="col-md-6 d-flex align-items-center justify-content-center mb-3">
            {% if product.images and product.images|length > 0 %}
                <img src="{{ product.images[0] }}" class="img-fluid rounded shadow-sm" alt="Product Image">
            {% else %}
                <div class="bg-light d-flex align-items-center justify-content-center rounded" style="height: 300px;">
                    No Image Available
                </div>
            {% endif %}

        </div>
        <div class="col-md-6">
            <h2 class="text-primary">{{ product.title }}</h2>
            <p class="text-muted">PID: {{ product.pid }}</p>
            
            <div class="my-3">
                <h3 class="text-danger">
                    {% if product.selling_price %}
                        {{ product.selling_price }}€
                    {% else %}
                        {{ product.actual_price }}€
                    {% endif %}
                    {% if product.actual_price and product.selling_price %}
                        <small class="text-muted" style="text-decoration: line-through;">
                            {{ product.actual_price }}€
                        </small>
                    {% endif %}

                </h3>
                <span class="badge badge-warning">★ {{ product.average_rating }} Rating</span>
                <span class="badge badge-info">{{ product.brand }}</span>
            </div>


            <h4>Description</h4>
            <p>{{ product.description }}</p>
            
            <hr>
            <h5>Details</h5>
            <ul>
                <li><strong>Category:</strong> {{ product.category }} / {{ product.sub_category }}</li>
                <li><strong>Seller:</strong> {{ product.seller }}</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}